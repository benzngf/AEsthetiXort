CFLAG = -std=c++11
#CFLAG += -O2
CFLAG += -g -DDEBUG -DSHOW_SELECT #--compiler-options='-Wall'

INPUT_IMG=trump.ppm
SORT_BY=Saturation
THRESHOLD_MIN=0.0
THRESHOLD_MAX=100.0
REVERSE_SORT_ORDER=0
ANTI_ALIASING=1
SORT_ALPHA=0
OUTPUT_FILE=output.ppm
PATTERN_PARM=Linear 0.7853981624999999
#PATTERN_PARM=Radial_Spin 33.0 25.0 1.3 0.7853981624999999
#PATTERN_PARM=Polygon 33.0 25.0 5 1.3 0.7853981624999999
#PATTERN_PARM=Spiral 33.0 25.0 1.23 1.3 0.7853981624999999
#PATTERN_PARM=Wave_Sine 55.0 66.0 0.7853981624999999
#PATTERN_PARM=Wave_Triangle 11.0 22.0 0.7853981624999999
#PATTERN_PARM=Wave_Saw_Tooth 43.0 86.0 0.7853981624999999
#PATTERN_PARM=Optical_Flow

all: aesthetic

aesthetic: PixelSortGPU.cu main.cu
	nvcc ${CFLAG} -arch sm_30 main.cu PixelSortGPU.cu pgm.cpp -o $@

run:
	./aesthetic ${INPUT_IMG} ${SORT_BY} ${THRESHOLD_MIN} ${THRESHOLD_MAX} ${REVERSE_SORT_ORDER} ${ANTI_ALIASING} ${SORT_ALPHA} ${OUTPUT_FILE} ${PATTERN_PARM}

clean:
	rm -r aesthetic
